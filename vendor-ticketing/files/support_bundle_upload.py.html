<h2>support_bundle_upload.py</h2>
<pre><code>
# support_bundle_upload.py
# Demonstrates how to include support files (logs, screenshots, PCAPs, etc.) in vendor ticket submissions.
# Covers both email-based attachments and API file uploads.
# All code is safely commented out for learning and sandbox use.

# === Email Attachment Flow ===
# from email.message import EmailMessage

# def attach_file_to_email(msg, file_path):
#     """
#     Attaches a file to an email message using MIME.
#     Supports .zip, .log, .txt, .pcap, and similar formats.
#     """
#     # with open(file_path, 'rb') as f:
#     #     file_data = f.read()
#     #     file_name = file_path.split('/')[-1]
#     #     msg.add_attachment(file_data, maintype='application', subtype='octet-stream', filename=file_name)
#     # print(f"📎 Attached {file_name} to email.")

# === API File Upload Flow ===
# import requests
# import os

# def upload_file_via_api(config, file_path):
#     """
#     Uploads a file to a vendor endpoint using multipart/form-data.
#     Skips upload if file exceeds 25MB (or config-defined limit).
#     """
#     # max_size = 25 * 1024 * 1024  # 25MB default
#     # if os.path.getsize(file_path) > max_size:
#     #     print("🚫 File too large for API upload. Triggering fallback.")
#     #     return

#     # with open(file_path, 'rb') as f:
#     #     files = {'file': (file_path.split('/')[-1], f)}
#     #     headers = {'Authorization': f"Bearer {config['api_key']}"}

#     #     response = requests.post(config['file_upload_endpoint'], files=files, headers=headers)
#     #     print(f"📤 Upload status: {response.status_code} – {response.text}")

# === Fallback Strategy Example ===
# def generate_fallback_upload_message(file_path):
#     """
#     Generates a message to include in the ticket if file size is too large.
#     Replace the sample URL with your secure upload portal or shared drive link.
#     """
#     # return f"📂 File too large for direct upload.\nManual upload link: https://yourcompany.share/upload\nFilename: {file_path}"

# Pro Tip:
# Attachments over 25MB may be dropped silently by APIs or mail servers.
# Always validate file size first and provide a secure upload alternative when needed.
</code></pre>
